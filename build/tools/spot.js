import { SpotAPI } from '../api/spot.js';
import { logger } from '../utils/logger.js';
import { ParameterValidator } from '../utils/validation.js';
import { ResultFormatter } from '../utils/formatter.js';
export function createSpotTools(binanceClient) {
    return [
        {
            name: 'binance_spot_place_order',
            description: `ã€çŽ°è´§ä¸‹å•ã€‘åœ¨BinanceçŽ°è´§å¸‚åœºæäº¤äº¤æ˜“è®¢å•

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æ”¯æŒå¤šç§è®¢å•ç±»åž‹ï¼šå¸‚ä»·å•ã€é™ä»·å•ã€æ­¢æŸå•ã€æ­¢ç›ˆå•
- è‡ªåŠ¨éªŒè¯è´¦æˆ·ä½™é¢å’Œäº¤æ˜“å¯¹è§„åˆ™
- å®žæ—¶è¿”å›žè®¢å•æ‰§è¡ŒçŠ¶æ€å’Œæˆäº¤ä¿¡æ¯

âš ï¸ **é‡è¦æé†’**
- ä¸‹å•å‰è¯·ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿä½™é¢
- å¸‚ä»·å•ä¼šç«‹å³æŒ‰å¸‚åœºä»·æ ¼æˆäº¤
- é™ä»·å•éœ€è¦æŒ‡å®šä»·æ ¼ï¼Œå¯èƒ½éƒ¨åˆ†æˆäº¤æˆ–æŒ‚å•ç­‰å¾…

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- è´­ä¹°æˆ–å‡ºå”®æ•°å­—è´§å¸
- è®¾ç½®æ­¢ç›ˆæ­¢æŸç­–ç•¥
- æ‰§è¡Œå¥—åˆ©äº¤æ˜“ç­–ç•¥

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æˆåŠŸä¸‹å•åŽå°†è¿”å›žï¼š
\`\`\`
âœ… çŽ°è´§ä¸‹å•æˆåŠŸ

ðŸ“‹ è®¢å•è¯¦æƒ…
è®¢å•ç¼–å·ï¼š#12345678
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
äº¤æ˜“æ–¹å‘ï¼šä¹°å…¥ (å¼€å¤šä»“)
è®¢å•ç±»åž‹ï¼šé™ä»·å•
å§”æ‰˜æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š45,000 USDT
é¢„è®¡é‡‘é¢ï¼š45 USDT

ðŸ“ˆ æ‰§è¡ŒçŠ¶æ€
å½“å‰çŠ¶æ€ï¼šå·²æäº¤ï¼Œç­‰å¾…æˆäº¤
å·²æˆäº¤ï¼š0 BTC (0%)
å‰©ä½™æ•°é‡ï¼š0.001 BTC
ä¸‹å•æ—¶é—´ï¼š2022-01-01 08:00:00

ðŸ’° èµ„é‡‘å½±å“
å†»ç»“é‡‘é¢ï¼š45 USDT
å¯ç”¨ä½™é¢ï¼šå‡å°‘ 45 USDT

âš ï¸ é‡è¦æé†’
è®¢å•å·²æˆåŠŸæäº¤åˆ°äº¤æ˜“æ‰€ï¼Œè¯·å¯†åˆ‡å…³æ³¨å¸‚åœºä»·æ ¼å˜åŒ–ã€‚
å¦‚éœ€ä¿®æ”¹æˆ–æ’¤é”€ï¼Œè¯·ä½¿ç”¨ç›¸åº”çš„æ’¤å•å·¥å…·ã€‚
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¿…å¡«ï¼‰
            
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ å¸¸ç”¨äº¤æ˜“å¯¹ï¼šBTCUSDTã€ETHUSDTã€BNBBUSDã€ADAUSDT
â€¢ åŒºåˆ†å¤§å°å†™ï¼Œå¿…é¡»å®Œå…¨åŒ¹é…Binanceæ”¯æŒçš„äº¤æ˜“å¯¹
â€¢ å¯é€šè¿‡binance_exchange_infoå·¥å…·æŸ¥çœ‹å®Œæ•´åˆ—è¡¨`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD', 'ADAUSDT', 'DOTUSDT']
                    },
                    side: {
                        type: 'string',
                        enum: ['BUY', 'SELL'],
                        description: `äº¤æ˜“æ–¹å‘ï¼ˆå¿…å¡«ï¼‰
            
â€¢ BUYï¼šä¹°å…¥åŸºç¡€èµ„äº§ï¼ˆç”¨è®¡ä»·å¸è´­ä¹°åŸºç¡€å¸ï¼‰
  ä¾‹å¦‚ï¼šç”¨USDTä¹°å…¥BTC
â€¢ SELLï¼šå–å‡ºåŸºç¡€èµ„äº§ï¼ˆå–å‡ºåŸºç¡€å¸èŽ·å¾—è®¡ä»·å¸ï¼‰
  ä¾‹å¦‚ï¼šå–å‡ºBTCèŽ·å¾—USDT`
                    },
                    type: {
                        type: 'string',
                        enum: ['MARKET', 'LIMIT', 'STOP_LOSS', 'STOP_LOSS_LIMIT', 'TAKE_PROFIT', 'TAKE_PROFIT_LIMIT', 'LIMIT_MAKER'],
                        description: `è®¢å•ç±»åž‹ï¼ˆå¿…å¡«ï¼‰
            
â€¢ MARKETï¼šå¸‚ä»·å•ï¼Œç«‹å³æŒ‰å½“å‰å¸‚åœºä»·æ ¼æˆäº¤
â€¢ LIMITï¼šé™ä»·å•ï¼ŒæŒ‡å®šä»·æ ¼æŒ‚å•ï¼Œç­‰å¾…æˆäº¤
â€¢ STOP_LOSSï¼šå¸‚ä»·æ­¢æŸå•ï¼Œä»·æ ¼è§¦å‘åŽæŒ‰å¸‚ä»·æˆäº¤  
â€¢ STOP_LOSS_LIMITï¼šé™ä»·æ­¢æŸå•ï¼Œä»·æ ¼è§¦å‘åŽæŒ‰é™ä»·æˆäº¤
â€¢ TAKE_PROFITï¼šå¸‚ä»·æ­¢ç›ˆå•ï¼Œä»·æ ¼è§¦å‘åŽæŒ‰å¸‚ä»·æˆäº¤
â€¢ TAKE_PROFIT_LIMITï¼šé™ä»·æ­¢ç›ˆå•ï¼Œä»·æ ¼è§¦å‘åŽæŒ‰é™ä»·æˆäº¤
â€¢ LIMIT_MAKERï¼šåªåšæŒ‚å•æ–¹é™ä»·å•ï¼Œä¿è¯ä¸ä¼šç«‹å³æˆäº¤

ðŸ’¡ æ–°æ‰‹å»ºè®®ï¼šä»ŽMARKETï¼ˆå¸‚ä»·å•ï¼‰æˆ–LIMITï¼ˆé™ä»·å•ï¼‰å¼€å§‹`
                    },
                    quantity: {
                        type: 'number',
                        description: `äº¤æ˜“æ•°é‡ï¼ˆå¿…å¡«ï¼‰
            
â€¢ å•ä½ï¼šåŸºç¡€èµ„äº§çš„æ•°é‡
â€¢ ä¾‹å¦‚ï¼šBTCUSDTä¸­quantityè¡¨ç¤ºBTCçš„æ•°é‡
â€¢ å¿…é¡»å¤§äºŽäº¤æ˜“å¯¹çš„æœ€å°ä¸‹å•é‡
â€¢ å¿…é¡»ç¬¦åˆäº¤æ˜“å¯¹çš„ç²¾åº¦è¦æ±‚ï¼ˆå°æ•°ä½æ•°ï¼‰
â€¢ å»ºè®®ä½¿ç”¨binance_check_order_precisionå·¥å…·é¢„æ£€æŸ¥

ðŸ’¡ ç¤ºä¾‹ï¼š
- BTCUSDTæœ€å°0.00001 BTC
- ETHUSDTæœ€å°0.0001 ETH`,
                        minimum: 0.00000001
                    },
                    price: {
                        type: 'number',
                        description: `å§”æ‰˜ä»·æ ¼ï¼ˆé™ä»·å•å¿…å¡«ï¼Œå¸‚ä»·å•æ— éœ€å¡«å†™ï¼‰
            
â€¢ å•ä½ï¼šè®¡ä»·èµ„äº§çš„ä»·æ ¼
â€¢ ä¾‹å¦‚ï¼šBTCUSDTä¸­priceè¡¨ç¤ºæ¯ä¸ªBTCçš„USDTä»·æ ¼  
â€¢ å¿…é¡»ç¬¦åˆäº¤æ˜“å¯¹çš„ä»·æ ¼ç²¾åº¦è¦æ±‚
â€¢ é™ä»·å•ï¼šæŒ‡å®šæœŸæœ›çš„æˆäº¤ä»·æ ¼
â€¢ æ­¢æŸ/æ­¢ç›ˆå•ï¼šä¸ŽstopPriceé…åˆä½¿ç”¨

ðŸ’¡ å®šä»·å»ºè®®ï¼š
- ä¹°å•ä»·æ ¼ç•¥é«˜äºŽå½“å‰ä»·ï¼šæ›´å®¹æ˜“æˆäº¤
- å–å•ä»·æ ¼ç•¥ä½ŽäºŽå½“å‰ä»·ï¼šæ›´å®¹æ˜“æˆäº¤`,
                        minimum: 0.00000001
                    },
                    timeInForce: {
                        type: 'string',
                        enum: ['GTC', 'IOC', 'FOK'],
                        description: `è®¢å•æœ‰æ•ˆæœŸï¼ˆå¯é€‰ï¼Œé»˜è®¤GTCï¼‰
            
â€¢ GTCï¼šGood Till Cancelï¼Œä¸€ç›´æœ‰æ•ˆç›´åˆ°æ’¤é”€æˆ–æˆäº¤
â€¢ IOCï¼šImmediate Or Cancelï¼Œç«‹å³æˆäº¤å¯æˆäº¤éƒ¨åˆ†ï¼Œå…¶ä½™æ’¤é”€  
â€¢ FOKï¼šFill Or Killï¼Œç«‹å³å…¨éƒ¨æˆäº¤ï¼Œå¦åˆ™æ•´å•æ’¤é”€

ðŸ’¡ ä½¿ç”¨å»ºè®®ï¼š
- æ™®é€šäº¤æ˜“ï¼šä½¿ç”¨GTC
- å¿«é€Ÿæˆäº¤ï¼šä½¿ç”¨IOC
- å…¨éƒ¨æˆäº¤ï¼šä½¿ç”¨FOK`
                    },
                    stopPrice: {
                        type: 'number',
                        description: `è§¦å‘ä»·æ ¼ï¼ˆæ­¢æŸ/æ­¢ç›ˆè®¢å•å¿…å¡«ï¼‰
            
â€¢ å½“å¸‚åœºä»·æ ¼è¾¾åˆ°æ­¤ä»·æ ¼æ—¶è§¦å‘è®¢å•
â€¢ ä»…é€‚ç”¨äºŽï¼šSTOP_LOSSã€STOP_LOSS_LIMITã€TAKE_PROFITã€TAKE_PROFIT_LIMIT
â€¢ æ­¢æŸï¼šè§¦å‘ä»·æ ¼åº”ä½ŽäºŽå½“å‰ä»·æ ¼ï¼ˆå–å•ï¼‰æˆ–é«˜äºŽå½“å‰ä»·æ ¼ï¼ˆä¹°å•ï¼‰
â€¢ æ­¢ç›ˆï¼šè§¦å‘ä»·æ ¼åº”é«˜äºŽå½“å‰ä»·æ ¼ï¼ˆå–å•ï¼‰æˆ–ä½ŽäºŽå½“å‰ä»·æ ¼ï¼ˆä¹°å•ï¼‰

ðŸ’¡ è®¾ç½®å»ºè®®ï¼š
- æ­¢æŸå¹…åº¦ï¼š5-10%è¾ƒä¸ºå¸¸è§  
- æ­¢ç›ˆå¹…åº¦ï¼šæ ¹æ®é£Žé™©åå¥½è®¾å®š`,
                        minimum: 0.00000001
                    }
                },
                required: ['symbol', 'side', 'type', 'quantity']
            }
        },
        {
            name: 'binance_spot_cancel_order',
            description: `ã€çŽ°è´§æ’¤å•ã€‘å–æ¶ˆçŽ°è´§å¸‚åœºçš„æŒ‡å®šå§”æ‰˜è®¢å•

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æ’¤é”€çŠ¶æ€ä¸ºNEWï¼ˆæ–°å»ºï¼‰æˆ–PARTIALLY_FILLEDï¼ˆéƒ¨åˆ†æˆäº¤ï¼‰çš„è®¢å•
- ç«‹å³ç”Ÿæ•ˆï¼Œæ’¤é”€åŽçš„è®¢å•æ— æ³•æ¢å¤
- è¿”å›žè¢«æ’¤é”€è®¢å•çš„è¯¦ç»†ä¿¡æ¯å’Œæ‰§è¡ŒçŠ¶æ€

âš ï¸ **é‡è¦æé†’**
- åªèƒ½æ’¤é”€æœªå®Œå…¨æˆäº¤çš„è®¢å•
- å·²æˆäº¤ï¼ˆFILLEDï¼‰æˆ–å·²æ’¤é”€ï¼ˆCANCELEDï¼‰çš„è®¢å•æ— æ³•å†æ¬¡æ’¤é”€
- æ’¤é”€åŽå†»ç»“çš„ä½™é¢ä¼šç«‹å³é‡Šæ”¾åˆ°å¯ç”¨ä½™é¢

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- å¸‚åœºä»·æ ¼å˜åŠ¨æ—¶ä¸»åŠ¨æ’¤é”€ä¸åˆé€‚çš„æŒ‚å•
- ç­–ç•¥è°ƒæ•´æ—¶æ¸…ç†åŽ†å²å§”æ‰˜
- é£Žé™©ç®¡ç†ä¸­åŠæ—¶æ­¢æŸ

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æˆåŠŸæ’¤é”€åŽå°†è¿”å›žï¼š
\`\`\`
âœ… è®¢å•æ’¤é”€æˆåŠŸ

ðŸ“‹ è®¢å•è¯¦æƒ…
è®¢å•ç¼–å·ï¼š#12345678
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
åŽŸå§‹æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š45,000 USDT
æœ€ç»ˆçŠ¶æ€ï¼šå·²æ’¤é”€

ðŸ“ˆ æˆäº¤æƒ…å†µ
å·²æˆäº¤ï¼š0 BTC (å®Œå…¨æœªæˆäº¤)
æ’¤é”€æ•°é‡ï¼š0.001 BTC
æ’¤é”€æ—¶é—´ï¼š2022-01-01 08:15:30

ðŸ’° èµ„é‡‘é‡Šæ”¾
é‡Šæ”¾é‡‘é¢ï¼š45 USDT
æ‰‹ç»­è´¹ï¼š0 USDT (æœªæˆäº¤)
å¯ç”¨ä½™é¢ï¼šå¢žåŠ  45 USDT

âœ¨ æ“ä½œç»“æžœ
è®¢å•å·²æˆåŠŸä»Žäº¤æ˜“æ‰€æ’¤é”€ï¼Œæ‰€æœ‰å†»ç»“èµ„é‡‘å·²é‡Šæ”¾åˆ°å¯ç”¨ä½™é¢ã€‚
å¯ä»¥é‡æ–°ä¸‹å•æˆ–è°ƒæ•´äº¤æ˜“ç­–ç•¥ã€‚
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¿…å¡«ï¼‰
            
â€¢ å¿…é¡»ä¸Žä¸‹å•æ—¶çš„äº¤æ˜“å¯¹å®Œå…¨ä¸€è‡´
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ åŒºåˆ†å¤§å°å†™ï¼Œä¸èƒ½æœ‰ä»»ä½•æ‹¼å†™é”™è¯¯
â€¢ å¯é€šè¿‡binance_spot_open_ordersæŸ¥çœ‹å½“å‰å§”æ‰˜

ðŸ’¡ æ³¨æ„äº‹é¡¹ï¼š
- äº¤æ˜“å¯¹æ‹¼å†™å¿…é¡»ç²¾ç¡®åŒ¹é…
- å»ºè®®å…ˆæŸ¥è¯¢å§”æ‰˜è®¢å•ç¡®è®¤äº¤æ˜“å¯¹`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD']
                    },
                    orderId: {
                        type: 'number',
                        description: `è®¢å•IDï¼ˆå¿…å¡«ï¼‰
            
â€¢ Binanceç³»ç»Ÿç”Ÿæˆçš„å”¯ä¸€è®¢å•æ ‡è¯†ç¬¦
â€¢ å¯ä»Žä»¥ä¸‹é€”å¾„èŽ·å–ï¼š
  - ä¸‹å•æ—¶è¿”å›žçš„orderId
  - binance_spot_open_ordersæŸ¥è¯¢ç»“æžœ
  - binance_spot_order_historyåŽ†å²è®°å½•
â€¢ è¿™æ˜¯ä¸€ä¸ªé•¿æ•´æ•°ï¼ŒèŒƒå›´å¾ˆå¤§

ðŸ’¡ èŽ·å–æ–¹å¼ï¼š
- ä¼˜å…ˆä½¿ç”¨ä¸‹å•è¿”å›žçš„orderId
- æ‰¹é‡æ’¤é”€å¯å…ˆæŸ¥è¯¢å§”æ‰˜è®¢å•åˆ—è¡¨`,
                        minimum: 1
                    }
                },
                required: ['symbol', 'orderId']
            }
        },
        {
            name: 'binance_spot_open_orders',
            description: `ã€çŽ°è´§å§”æ‰˜æŸ¥è¯¢ã€‘æŸ¥è¯¢çŽ°è´§å¸‚åœºå½“å‰æ‰€æœ‰æœªæˆäº¤çš„å§”æ‰˜è®¢å•

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æŸ¥è¯¢çŠ¶æ€ä¸ºNEWï¼ˆæ–°å»ºï¼‰æˆ–PARTIALLY_FILLEDï¼ˆéƒ¨åˆ†æˆäº¤ï¼‰çš„è®¢å•
- æ”¯æŒæŒ‰äº¤æ˜“å¯¹ç­›é€‰æˆ–æŸ¥è¯¢å…¨éƒ¨äº¤æ˜“å¯¹
- å®žæ—¶è¿”å›žè®¢å•ä»·æ ¼ã€æ•°é‡ã€æˆäº¤æƒ…å†µç­‰è¯¦ç»†ä¿¡æ¯

âš ï¸ **é‡è¦æé†’**
- åªæ˜¾ç¤ºæœªå®Œå…¨æˆäº¤çš„è®¢å•
- å·²æˆäº¤æˆ–å·²æ’¤é”€çš„è®¢å•ä¸ä¼šæ˜¾ç¤º
- æŸ¥è¯¢å…¨éƒ¨æ—¶å¯èƒ½è¿”å›žå¤§é‡æ•°æ®ï¼Œå»ºè®®æŒ‡å®šäº¤æ˜“å¯¹

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- æ£€æŸ¥å½“å‰æŒ‚å•çŠ¶æ€å’Œä»·æ ¼
- æ‰¹é‡æ’¤é”€å‰æŸ¥çœ‹å§”æ‰˜åˆ—è¡¨
- ç›‘æŽ§è®¢å•æ‰§è¡Œè¿›åº¦
- ç­–ç•¥è°ƒæ•´å‰äº†è§£çŽ°æœ‰æŒä»“

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æŸ¥è¯¢æˆåŠŸåŽå°†è¿”å›žï¼š
\`\`\`
ðŸ” çŽ°è´§å§”æ‰˜è®¢å•æŸ¥è¯¢ç»“æžœ

ðŸ“Š æ•´ä½“æ¦‚å†µ
æŸ¥è¯¢èŒƒå›´ï¼šBTCUSDT çŽ°è´§äº¤æ˜“å¯¹
å‘çŽ°è®¢å•ï¼š2 ä¸ªæœªæˆäº¤å§”æ‰˜
æ€»å§”æ‰˜ä»·å€¼ï¼šçº¦ 90 USDT
å†»ç»“èµ„é‡‘ï¼š90 USDT

ðŸ“‹ å§”æ‰˜è¯¦æƒ…

ðŸŸ¡ è®¢å• #12345678
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
äº¤æ˜“æ–¹å‘ï¼šä¹°å…¥ (åšå¤š)
è®¢å•ç±»åž‹ï¼šé™ä»·å•
å§”æ‰˜æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š45,000 USDT
æˆäº¤è¿›åº¦ï¼š0 BTC (0%)
è®¢å•çŠ¶æ€ï¼šç­‰å¾…æˆäº¤
ä¸‹å•æ—¶é—´ï¼š2022-01-01 08:00:00
é¢„è®¡é‡‘é¢ï¼š45 USDT

ðŸŸ¡ è®¢å• #12345679
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
äº¤æ˜“æ–¹å‘ï¼šå–å‡º (åšç©º)
è®¢å•ç±»åž‹ï¼šé™ä»·å•
å§”æ‰˜æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š46,000 USDT
æˆäº¤è¿›åº¦ï¼š0 BTC (0%)
è®¢å•çŠ¶æ€ï¼šç­‰å¾…æˆäº¤
ä¸‹å•æ—¶é—´ï¼š2022-01-01 09:00:00
é¢„è®¡é‡‘é¢ï¼š46 USDT

ðŸ’¡ å»ºè®®æ“ä½œ
- å¯ä½¿ç”¨æ’¤å•åŠŸèƒ½å–æ¶ˆä¸éœ€è¦çš„è®¢å•
- å…³æ³¨å¸‚åœºä»·æ ¼ï¼Œé€‚æ—¶è°ƒæ•´å§”æ‰˜ä»·æ ¼
- æ³¨æ„å†»ç»“èµ„é‡‘å¯¹å¯ç”¨ä½™é¢çš„å½±å“
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¯é€‰ï¼Œé»˜è®¤æŸ¥è¯¢å…¨éƒ¨ï¼‰
            
â€¢ æŒ‡å®šäº¤æ˜“å¯¹å¯æé«˜æŸ¥è¯¢æ•ˆçŽ‡å’Œç²¾ç¡®åº¦
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ ä¸å¡«å†™åˆ™è¿”å›žæ‰€æœ‰äº¤æ˜“å¯¹çš„å§”æ‰˜è®¢å•
â€¢ å»ºè®®ä¼˜å…ˆæŒ‡å®šå…·ä½“äº¤æ˜“å¯¹

ðŸ’¡ ä½¿ç”¨å»ºè®®ï¼š
- æŸ¥çœ‹ç‰¹å®šäº¤æ˜“å¯¹ï¼šå¡«å†™symbolå‚æ•°
- æŸ¥çœ‹å…¨éƒ¨å§”æ‰˜ï¼šä¸å¡«å†™ä»»ä½•å‚æ•°
- æ•°é‡è¾ƒå¤šæ—¶å»ºè®®åˆ†äº¤æ˜“å¯¹æŸ¥è¯¢`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD']
                    }
                },
                required: []
            }
        },
        {
            name: 'binance_spot_order_history',
            description: `ã€çŽ°è´§åŽ†å²è®¢å•ã€‘æŸ¥è¯¢çŽ°è´§å¸‚åœºçš„åŽ†å²è®¢å•è®°å½•

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æŸ¥è¯¢æ‰€æœ‰åŽ†å²è®¢å•ï¼šå·²æˆäº¤ã€å·²å–æ¶ˆã€è¢«æ‹’ç»ã€å·²è¿‡æœŸ
- æ”¯æŒæ—¶é—´èŒƒå›´ç­›é€‰ï¼ˆæœ€å¤§24å°æ—¶ï¼‰
- æ”¯æŒåˆ†é¡µæŸ¥è¯¢å’Œæ•°é‡é™åˆ¶
- åŒ…å«è®¢å•è¯¦ç»†çŠ¶æ€å’Œæˆäº¤ä¿¡æ¯

âš ï¸ **é‡è¦æé†’**
- æ¯æ¬¡æŸ¥è¯¢åªèƒ½æŒ‡å®šä¸€ä¸ªäº¤æ˜“å¯¹
- æ—¶é—´èŒƒå›´ä¸èƒ½è¶…è¿‡24å°æ—¶
- é»˜è®¤æŒ‰æ—¶é—´å€’åºè¿”å›žï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
- æ•°æ®é‡å¤§æ—¶å»ºè®®ä½¿ç”¨limitå‚æ•°é™åˆ¶

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- æŸ¥çœ‹åŽ†å²äº¤æ˜“è®°å½•å’Œæˆäº¤æƒ…å†µ
- åˆ†æžè®¢å•æ‰§è¡Œæ•ˆæžœå’Œç­–ç•¥è¡¨çŽ°
- æ ¸å¯¹è´¦æˆ·äº¤æ˜“æ˜Žç»†
- å¯¼å‡ºäº¤æ˜“æ•°æ®è¿›è¡Œåˆ†æž

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æŸ¥è¯¢æˆåŠŸåŽå°†è¿”å›žï¼š
\`\`\`
ðŸ“ˆ çŽ°è´§åŽ†å²è®¢å•æŸ¥è¯¢ç»“æžœ

ðŸ“Š æŸ¥è¯¢æ¦‚å†µ
æŸ¥è¯¢æœŸé—´ï¼š2022-01-01 è‡³ 2022-01-02 (24å°æ—¶)
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
æ‰¾åˆ°è®¢å•ï¼š5 ä¸ªåŽ†å²è®°å½•

ðŸ“ˆ æ‰§è¡Œç»Ÿè®¡
âœ… æˆäº¤è®¢å•ï¼š3 ä¸ª (60%)
âŒ æ’¤é”€è®¢å•ï¼š2 ä¸ª (40%)
ðŸ“Š æ•´ä½“æˆåŠŸçŽ‡ï¼š60%

ðŸ“‹ è®¢å•è¯¦æƒ…

âœ… è®¢å• #12345678 [å·²å®Œæˆ]
äº¤æ˜“æ–¹å‘ï¼šä¹°å…¥ (åšå¤š)
è®¢å•ç±»åž‹ï¼šé™ä»·å•
å§”æ‰˜æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š45,000 USDT
å®žé™…æˆäº¤ï¼š0.001 BTC (100%)
æˆäº¤é‡‘é¢ï¼š45 USDT
ä¸‹å•æ—¶é—´ï¼š2022-01-01 08:00:00
å®Œæˆæ—¶é—´ï¼š2022-01-01 08:05:30
æ‰§è¡Œæ—¶é•¿ï¼š5åˆ†30ç§’

âŒ è®¢å• #12345679 [å·²æ’¤é”€]
äº¤æ˜“æ–¹å‘ï¼šå–å‡º (åšç©º)
è®¢å•ç±»åž‹ï¼šé™ä»·å•
å§”æ‰˜æ•°é‡ï¼š0.001 BTC
å§”æ‰˜ä»·æ ¼ï¼š46,000 USDT
æ’¤é”€åŽŸå› ï¼šç”¨æˆ·ä¸»åŠ¨æ’¤é”€
ä¸‹å•æ—¶é—´ï¼š2022-01-01 09:00:00
æ’¤é”€æ—¶é—´ï¼š2022-01-01 10:30:00

ðŸ’¡ äº¤æ˜“æ€»ç»“
æœ¬æœŸé—´äº¤æ˜“è¾ƒä¸ºæ´»è·ƒï¼Œæˆäº¤çŽ‡é€‚ä¸­ã€‚
å»ºè®®å…³æ³¨å¸‚åœºæ³¢åŠ¨ï¼Œä¼˜åŒ–å§”æ‰˜ä»·æ ¼ç­–ç•¥ã€‚
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¿…å¡«ï¼‰
            
â€¢ æ¯æ¬¡æŸ¥è¯¢åªèƒ½æŒ‡å®šä¸€ä¸ªäº¤æ˜“å¯¹
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ åŒºåˆ†å¤§å°å†™ï¼Œå¿…é¡»å®Œå…¨åŒ¹é…
â€¢ å¯é€šè¿‡binance_exchange_infoæŸ¥çœ‹æ”¯æŒçš„äº¤æ˜“å¯¹

ðŸ’¡ æŸ¥è¯¢æŠ€å·§ï¼š
- ä¼˜å…ˆæŸ¥è¯¢è¿‘æœŸæ´»è·ƒçš„äº¤æ˜“å¯¹
- ä¸åŒäº¤æ˜“å¯¹éœ€è¦åˆ†åˆ«æŸ¥è¯¢`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD']
                    },
                    orderId: {
                        type: 'number',
                        description: `èµ·å§‹è®¢å•IDï¼ˆå¯é€‰ï¼Œç”¨äºŽåˆ†é¡µï¼‰
            
â€¢ è¿”å›žè¯¥è®¢å•IDåŠä¹‹åŽçš„è®¢å•
â€¢ ç”¨äºŽåˆ†é¡µæŸ¥è¯¢å¤§é‡åŽ†å²æ•°æ®
â€¢ å¯ä»Žä¹‹å‰æŸ¥è¯¢ç»“æžœçš„æœ€åŽä¸€ä¸ªè®¢å•èŽ·å–
â€¢ ä¸Žæ—¶é—´å‚æ•°å¯ä»¥ç»„åˆä½¿ç”¨

ðŸ’¡ åˆ†é¡µä½¿ç”¨ï¼š
- é¦–æ¬¡æŸ¥è¯¢ä¸å¡«å†™ï¼ŒèŽ·å–æœ€æ–°è®¢å•
- åŽç»­æŸ¥è¯¢ä½¿ç”¨ä¸Šæ¬¡ç»“æžœçš„æœ€å°orderId`,
                        minimum: 1
                    },
                    startTime: {
                        type: 'number',
                        description: `æŸ¥è¯¢å¼€å§‹æ—¶é—´ï¼ˆå¯é€‰ï¼Œ13ä½æ¯«ç§’æ—¶é—´æˆ³ï¼‰
            
â€¢ æ ¼å¼ï¼š1640995200000ï¼ˆå¯¹åº”2022-01-01 00:00:00 UTCï¼‰
â€¢ å¿…é¡»ä¸ŽendTimeé…åˆä½¿ç”¨
â€¢ æŸ¥è¯¢èŒƒå›´æœ€å¤§24å°æ—¶
â€¢ ä¸å¡«å†™é»˜è®¤æŸ¥è¯¢æœ€è¿‘çš„è®¢å•

ðŸ’¡ æ—¶é—´è®¾ç½®ï¼š
- ä½¿ç”¨ Date.now() èŽ·å–å½“å‰æ—¶é—´æˆ³
- å»ºè®®æŸ¥è¯¢æœ€è¿‘å‡ å°æ—¶çš„æ•°æ®`,
                        minimum: 1000000000000
                    },
                    endTime: {
                        type: 'number',
                        description: `æŸ¥è¯¢ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼Œ13ä½æ¯«ç§’æ—¶é—´æˆ³ï¼‰
            
â€¢ å¿…é¡»å¤§äºŽstartTime
â€¢ ä¸ŽstartTimeçš„å·®å€¼ä¸èƒ½è¶…è¿‡24å°æ—¶
â€¢ æ ¼å¼ï¼š1640995200000
â€¢ å»ºè®®è®¾ç½®ä¸ºå½“å‰æ—¶é—´

ðŸ’¡ æ³¨æ„äº‹é¡¹ï¼š
- endTime - startTime â‰¤ 24å°æ—¶
- å»ºè®®ç•™å‡ºæ—¶é—´ç¼“å†²ï¼Œé¿å…åˆšå¥½24å°æ—¶`,
                        minimum: 1000000000000
                    },
                    limit: {
                        type: 'number',
                        description: `è¿”å›žè®¢å•æ•°é‡é™åˆ¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤500ï¼‰
            
â€¢ å–å€¼èŒƒå›´ï¼š1-1000
â€¢ é»˜è®¤å€¼ï¼š500
â€¢ è¾ƒå°å€¼å“åº”æ›´å¿«
â€¢ è¾ƒå¤§å€¼å‡å°‘åˆ†é¡µæ¬¡æ•°

ðŸ’¡ æ•°é‡é€‰æ‹©ï¼š
- å¿«é€ŸæŸ¥è¯¢ï¼šä½¿ç”¨100-200
- æ‰¹é‡èŽ·å–ï¼šä½¿ç”¨500-1000
- ç½‘ç»œè¾ƒæ…¢æ—¶å»ºè®®ä½¿ç”¨å°å€¼`,
                        minimum: 1,
                        maximum: 1000
                    }
                },
                required: ['symbol']
            }
        },
        {
            name: 'binance_spot_trade_history',
            description: `ã€çŽ°è´§æˆäº¤è®°å½•ã€‘æŸ¥è¯¢çŽ°è´§å¸‚åœºçš„å®žé™…æˆäº¤æ˜Žç»†

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æŸ¥è¯¢æ¯ç¬”å®žé™…æˆäº¤çš„è¯¦ç»†ä¿¡æ¯
- åŒ…å«æˆäº¤ä»·æ ¼ã€æ•°é‡ã€æ‰‹ç»­è´¹ã€æ—¶é—´ç­‰å®Œæ•´æ•°æ®
- æ”¯æŒæ—¶é—´èŒƒå›´å’Œåˆ†é¡µæŸ¥è¯¢
- å¯ç”¨äºŽç²¾ç¡®æ ¸å¯¹äº¤æ˜“æˆæœ¬å’Œæ”¶ç›Š

âš ï¸ **é‡è¦æé†’**
- åªæ˜¾ç¤ºå®žé™…æˆäº¤çš„äº¤æ˜“ï¼Œä¸åŒ…å«æœªæˆäº¤è®¢å•
- æ¯æ¬¡æŸ¥è¯¢é™å®šä¸€ä¸ªäº¤æ˜“å¯¹
- æ—¶é—´èŒƒå›´ä¸èƒ½è¶…è¿‡24å°æ—¶
- åŒ…å«ä¹°æ–¹å’Œå–æ–¹æ‰‹ç»­è´¹ä¿¡æ¯

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- ç²¾ç¡®è®¡ç®—äº¤æ˜“æˆæœ¬å’Œå‡€æ”¶ç›Š
- æ ¸å¯¹è´¦æˆ·èµ„é‡‘å˜åŠ¨æ˜Žç»†
- åˆ†æžæˆäº¤ä»·æ ¼å’Œå¸‚åœºæ—¶æœº
- å¯¼å‡ºäº¤æ˜“æ•°æ®ç”¨äºŽç¨ŽåŠ¡ç”³æŠ¥

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æŸ¥è¯¢æˆåŠŸåŽå°†è¿”å›žï¼š
\`\`\`
ðŸ’° çŽ°è´§æˆäº¤è®°å½•æŸ¥è¯¢ç»“æžœ

ðŸ“Š æˆäº¤æ¦‚å†µ
æŸ¥è¯¢æœŸé—´ï¼šæœ€è¿‘24å°æ—¶
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
æˆäº¤ç¬”æ•°ï¼š3 ç¬”å®žé™…äº¤æ˜“
æ€»æˆäº¤é¢ï¼š135 USDT
æ€»æ‰‹ç»­è´¹ï¼š0.135 USDT
å¹³å‡ä»·æ ¼ï¼š45,000 USDT

ðŸ“‹ æˆäº¤æ˜Žç»†

ðŸ’µ æˆäº¤ #987654321
å…³è”è®¢å•ï¼š#12345678
æˆäº¤æ—¶é—´ï¼š2022-01-01 08:05:30
äº¤æ˜“è§’è‰²ï¼šä¹°æ–¹ (Taker)
æˆäº¤ä»·æ ¼ï¼š45,000 USDT
æˆäº¤æ•°é‡ï¼š0.001 BTC
æˆäº¤é‡‘é¢ï¼š45 USDT
æ‰‹ç»­è´¹ï¼š0.045 USDT (0.1%)
å‡€æˆæœ¬ï¼š45.045 USDT
å®žé™…èŽ·å¾—ï¼š0.001 BTC

ðŸ’µ æˆäº¤ #987654322
å…³è”è®¢å•ï¼š#12345679
æˆäº¤æ—¶é—´ï¼š2022-01-01 10:15:20
äº¤æ˜“è§’è‰²ï¼šå–æ–¹ (Maker)
æˆäº¤ä»·æ ¼ï¼š46,000 USDT
æˆäº¤æ•°é‡ï¼š0.001 BTC
æˆäº¤é‡‘é¢ï¼š46 USDT
æ‰‹ç»­è´¹ï¼š0.046 USDT (0.1%)
å‡€æ”¶å…¥ï¼š45.954 USDT
å–å‡ºèµ„äº§ï¼š0.001 BTC

ðŸ“ˆ æ”¶ç›Šåˆ†æž
æ€»ä¹°å…¥ï¼š0.001 BTC (èŠ±è´¹ 45.045 USDT)
æ€»å–å‡ºï¼š0.001 BTC (æ”¶å…¥ 45.954 USDT)
å‡€ç›ˆäºï¼š+0.909 USDT
æ”¶ç›ŠçŽ‡ï¼š+2.0%

ðŸ’¡ äº¤æ˜“æç¤º
æˆäº¤è®°å½•å®Œæ•´ï¼Œç›ˆäºè®¡ç®—å‡†ç¡®ã€‚
å»ºè®®å®šæœŸæ ¸å¯¹æˆäº¤æ•°æ®ä¸Žè´¦æˆ·ä½™é¢ã€‚
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¿…å¡«ï¼‰
            
â€¢ æ¯æ¬¡æŸ¥è¯¢åªèƒ½æŒ‡å®šä¸€ä¸ªäº¤æ˜“å¯¹
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ åŒºåˆ†å¤§å°å†™ï¼Œå¿…é¡»å®Œå…¨åŒ¹é…
â€¢ å»ºè®®æŸ¥è¯¢æœ‰æˆäº¤è®°å½•çš„æ´»è·ƒäº¤æ˜“å¯¹

ðŸ’¡ æŸ¥è¯¢æŠ€å·§ï¼š
- å…ˆé€šè¿‡è®¢å•åŽ†å²ç¡®è®¤æœ‰æˆäº¤è®°å½•
- æŒ‰äº¤æ˜“å¯¹åˆ†åˆ«æŸ¥è¯¢ï¼Œä¾¿äºŽåˆ†æž`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD']
                    },
                    startTime: {
                        type: 'number',
                        description: `æŸ¥è¯¢å¼€å§‹æ—¶é—´ï¼ˆå¯é€‰ï¼Œ13ä½æ¯«ç§’æ—¶é—´æˆ³ï¼‰
            
â€¢ æ ¼å¼ï¼š1640995200000
â€¢ å¿…é¡»ä¸ŽendTimeé…åˆä½¿ç”¨
â€¢ æŸ¥è¯¢èŒƒå›´æœ€å¤§24å°æ—¶
â€¢ ä¸å¡«å†™é»˜è®¤æŸ¥è¯¢æœ€è¿‘æˆäº¤è®°å½•

ðŸ’¡ æ—¶é—´è®¾ç½®ï¼š
- å»ºè®®æŸ¥è¯¢æœ€è¿‘å‡ å°æ—¶çš„æ•°æ®
- å¯ä½¿ç”¨ Date.now() èŽ·å–å½“å‰æ—¶é—´æˆ³`,
                        minimum: 1000000000000
                    },
                    endTime: {
                        type: 'number',
                        description: `æŸ¥è¯¢ç»“æŸæ—¶é—´ï¼ˆå¯é€‰ï¼Œ13ä½æ¯«ç§’æ—¶é—´æˆ³ï¼‰
            
â€¢ å¿…é¡»å¤§äºŽstartTime
â€¢ ä¸ŽstartTimeå·®å€¼ä¸è¶…è¿‡24å°æ—¶
â€¢ å»ºè®®è®¾ç½®ä¸ºå½“å‰æ—¶é—´æˆ–ç¨æ—©æ—¶é—´
â€¢ æ ¼å¼ï¼š1640995200000

ðŸ’¡ æ³¨æ„äº‹é¡¹ï¼š
- æ—¶é—´è·¨åº¦æŽ§åˆ¶åœ¨24å°æ—¶å†…
- é¢„ç•™æ—¶é—´ç¼“å†²é¿å…è¾¹ç•Œé—®é¢˜`,
                        minimum: 1000000000000
                    },
                    fromId: {
                        type: 'number',
                        description: `èµ·å§‹äº¤æ˜“IDï¼ˆå¯é€‰ï¼Œç”¨äºŽåˆ†é¡µï¼‰
            
â€¢ ä»ŽæŒ‡å®šäº¤æ˜“IDå¼€å§‹è¿”å›žè®°å½•
â€¢ ç”¨äºŽåˆ†é¡µæŸ¥è¯¢å¤§é‡æˆäº¤æ•°æ®
â€¢ å¯ä»Žä¹‹å‰æŸ¥è¯¢ç»“æžœçš„æœ€åŽä¸€ç¬”æˆäº¤èŽ·å–
â€¢ ä¸Žæ—¶é—´å‚æ•°å¯ä»¥ç»„åˆä½¿ç”¨

ðŸ’¡ åˆ†é¡µä½¿ç”¨ï¼š
- é¦–æ¬¡æŸ¥è¯¢ä¸å¡«å†™
- åŽç»­æŸ¥è¯¢ä½¿ç”¨ä¸Šæ¬¡ç»“æžœçš„æœ€å°äº¤æ˜“ID`,
                        minimum: 1
                    },
                    limit: {
                        type: 'number',
                        description: `è¿”å›žè®°å½•æ•°é‡é™åˆ¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤500ï¼‰
            
â€¢ å–å€¼èŒƒå›´ï¼š1-1000
â€¢ é»˜è®¤å€¼ï¼š500
â€¢ è¾ƒå°å€¼å“åº”æ›´å¿«ï¼Œé€‚åˆå®žæ—¶æŸ¥è¯¢
â€¢ è¾ƒå¤§å€¼é€‚åˆæ‰¹é‡å¯¼å‡ºæ•°æ®

ðŸ’¡ æ•°é‡é€‰æ‹©ï¼š
- å®žæ—¶ç›‘æŽ§ï¼š50-100
- å¸¸è§„æŸ¥è¯¢ï¼š200-500  
- æ‰¹é‡å¯¼å‡ºï¼š500-1000`,
                        minimum: 1,
                        maximum: 1000
                    }
                },
                required: ['symbol']
            }
        },
        {
            name: 'binance_spot_cancel_all_orders',
            description: `ã€çŽ°è´§æ‰¹é‡æ’¤å•ã€‘ä¸€é”®å–æ¶ˆæŒ‡å®šäº¤æ˜“å¯¹çš„æ‰€æœ‰å§”æ‰˜è®¢å•

ðŸ“‹ **åŠŸèƒ½è¯´æ˜Ž**
- æ‰¹é‡å–æ¶ˆNEWï¼ˆæ–°å»ºï¼‰å’ŒPARTIALLY_FILLEDï¼ˆéƒ¨åˆ†æˆäº¤ï¼‰çŠ¶æ€çš„è®¢å•
- ä¸€æ¬¡æ€§æ¸…é™¤æŒ‡å®šäº¤æ˜“å¯¹çš„æ‰€æœ‰æœªæˆäº¤å§”æ‰˜
- è¿”å›žæ¯ä¸ªè®¢å•çš„æ’¤é”€ç»“æžœå’Œç»Ÿè®¡ä¿¡æ¯
- æ“ä½œä¸å¯é€†è½¬ï¼Œè¯·è°¨æ…Žä½¿ç”¨

âš ï¸ **å±é™©æ“ä½œè­¦å‘Š**
- è¿™æ˜¯ä¸€ä¸ªå±é™©æ“ä½œï¼Œä¼šæ’¤é”€è¯¥äº¤æ˜“å¯¹çš„æ‰€æœ‰æŒ‚å•
- æ’¤é”€åŽè®¢å•æ— æ³•æ¢å¤ï¼Œå¯èƒ½å½±å“äº¤æ˜“ç­–ç•¥
- å»ºè®®åœ¨å¸‚åœºæ³¢åŠ¨å‰§çƒˆæ—¶æˆ–ç´§æ€¥æƒ…å†µä¸‹ä½¿ç”¨
- æ“ä½œå‰è¯·ç¡®è®¤äº¤æ˜“å¯¹å’Œå½“å‰å§”æ‰˜æƒ…å†µ

ðŸŽ¯ **é€‚ç”¨åœºæ™¯**
- å¸‚åœºæ€¥å‰§å˜åŒ–éœ€è¦å¿«é€Ÿæ¸…ä»“
- ç­–ç•¥å¤±æ•ˆéœ€è¦é‡æ–°å¸ƒå±€
- ç³»ç»Ÿç»´æŠ¤å‰æ¸…ç†æŒ‚å•
- é¿å…ä¸å¿…è¦çš„æˆäº¤é£Žé™©

ðŸ“Š **è¾“å‡ºç¤ºä¾‹**
æ‰¹é‡æ’¤é”€åŽå°†è¿”å›žï¼š
\`\`\`
ðŸš¨ æ‰¹é‡æ’¤å•æ“ä½œå®Œæˆ

ðŸ“Š æ‰§è¡Œæ¦‚å†µ
äº¤æ˜“å¯¹ï¼šBTCUSDT (BTC/USDTçŽ°è´§)
å‘çŽ°è®¢å•ï¼š5 ä¸ªå§”æ‰˜è®¢å•
æˆåŠŸæ’¤é”€ï¼š4 ä¸ªè®¢å• âœ…
æ’¤é”€å¤±è´¥ï¼š1 ä¸ªè®¢å• âŒ
æ“ä½œæˆåŠŸçŽ‡ï¼š80%

ðŸ“‹ è¯¦ç»†æ‰§è¡Œç»“æžœ

âœ… è®¢å• #12345678 [æ’¤é”€æˆåŠŸ]
é‡Šæ”¾èµ„é‡‘ï¼š45 USDT
å¤„ç†æ—¶é—´ï¼š2022-01-01 10:30:01

âœ… è®¢å• #12345679 [æ’¤é”€æˆåŠŸ]
é‡Šæ”¾èµ„é‡‘ï¼š46 USDT
å¤„ç†æ—¶é—´ï¼š2022-01-01 10:30:01

âœ… è®¢å• #12345680 [æ’¤é”€æˆåŠŸ]
é‡Šæ”¾èµ„é‡‘ï¼š47 USDT
å¤„ç†æ—¶é—´ï¼š2022-01-01 10:30:02

âœ… è®¢å• #12345681 [æ’¤é”€æˆåŠŸ]
é‡Šæ”¾èµ„é‡‘ï¼š42 USDT
å¤„ç†æ—¶é—´ï¼š2022-01-01 10:30:02

âŒ è®¢å• #12345682 [æ’¤é”€å¤±è´¥]
å¤±è´¥åŽŸå› ï¼šè®¢å•å·²å®Œå…¨æˆäº¤ï¼Œæ— æ³•æ’¤é”€
å¤„ç†æ—¶é—´ï¼š2022-01-01 10:30:02

ðŸ’° èµ„é‡‘å˜åŠ¨æ±‡æ€»
æ€»é‡Šæ”¾é‡‘é¢ï¼š180 USDT
å¯ç”¨ä½™é¢å¢žåŠ ï¼š+180 USDT
å†»ç»“èµ„é‡‘æ¸…é›¶ï¼š-180 USDT

âš ï¸ é‡è¦æé†’
æ‰€æœ‰æœªæˆäº¤çš„å§”æ‰˜è®¢å•å·²æˆåŠŸæ¸…ç†ï¼
å†»ç»“èµ„é‡‘å·²å…¨éƒ¨é‡Šæ”¾åˆ°å¯ç”¨ä½™é¢ã€‚
çŽ°åœ¨å¯ä»¥é‡æ–°åˆ¶å®šäº¤æ˜“ç­–ç•¥æˆ–ä¸‹æ–°å•ã€‚

ðŸŽ¯ åŽç»­å»ºè®®
- é‡æ–°è¯„ä¼°å¸‚åœºæƒ…å†µ
- è°ƒæ•´å§”æ‰˜ä»·æ ¼ç­–ç•¥
- è€ƒè™‘åˆ†æ‰¹å»ºä»“æ–¹å¼
\`\`\``,
            inputSchema: {
                type: 'object',
                properties: {
                    symbol: {
                        type: 'string',
                        description: `äº¤æ˜“å¯¹ç¬¦å·ï¼ˆå¿…å¡«ï¼‰
            
â€¢ å°†å–æ¶ˆè¯¥äº¤æ˜“å¯¹çš„æ‰€æœ‰æœªæˆäº¤è®¢å•
â€¢ æ ¼å¼ï¼šåŸºç¡€èµ„äº§+è®¡ä»·èµ„äº§ï¼Œå¦‚BTCUSDTã€ETHUSDT
â€¢ åŒºåˆ†å¤§å°å†™ï¼Œå¿…é¡»ç²¾ç¡®åŒ¹é…
â€¢ å»ºè®®å…ˆæŸ¥è¯¢å§”æ‰˜åˆ—è¡¨ç¡®è®¤è¦æ’¤é”€çš„è®¢å•

âš ï¸ **å±é™©æ“ä½œæé†’**ï¼š
- æ“ä½œä¸å¯é€†ï¼Œè¯·ä¸‰æ€åŽè¡Œ
- å»ºè®®å…ˆä½¿ç”¨binance_spot_open_ordersæŸ¥çœ‹å§”æ‰˜
- ç¡®è®¤äº¤æ˜“å¯¹æ— è¯¯åŽå†æ‰§è¡Œ

ðŸ’¡ å®‰å…¨å»ºè®®ï¼š
- ç´§æ€¥æƒ…å†µä¸‹ä½¿ç”¨
- æ“ä½œå‰å¤‡ä»½é‡è¦è®¢å•ä¿¡æ¯`,
                        examples: ['BTCUSDT', 'ETHUSDT', 'BNBBUSD']
                    }
                },
                required: ['symbol']
            }
        }
    ];
}
export async function handleSpotTool(name, args, binanceClient) {
    const spotAPI = new SpotAPI(binanceClient);
    try {
        switch (name) {
            case 'binance_spot_place_order':
                // å‚æ•°éªŒè¯
                const orderValidation = ParameterValidator.validateParameters(args, {
                    symbol: { required: true, type: 'symbol' },
                    side: { required: true, type: 'side' },
                    type: { required: true, type: 'orderType' },
                    quantity: { required: true, type: 'quantity' },
                    price: { required: args.type !== 'MARKET', type: 'price' }
                });
                if (!orderValidation.valid) {
                    return {
                        success: false,
                        error: ParameterValidator.formatValidationError(orderValidation)
                    };
                }
                const validatedArgs = orderValidation.data;
                const warnings = orderValidation.warnings;
                try {
                    const order = await spotAPI.placeOrder({
                        symbol: validatedArgs.symbol,
                        side: validatedArgs.side,
                        type: validatedArgs.type,
                        quantity: validatedArgs.quantity,
                        price: validatedArgs.price,
                        timeInForce: args.timeInForce || 'GTC',
                        stopPrice: args.stopPrice
                    });
                    let result = ResultFormatter.formatSpotOrderSuccess({
                        orderId: order.orderId,
                        symbol: order.symbol,
                        side: order.side,
                        type: order.type,
                        origQty: order.origQty,
                        executedQty: order.executedQty,
                        cummulativeQuoteQty: order.cummulativeQuoteQty,
                        price: order.price,
                        status: order.status,
                        transactTime: order.updateTime || order.transactTime || Date.now()
                    });
                    // æ·»åŠ è­¦å‘Šä¿¡æ¯
                    if (warnings && warnings.length > 0) {
                        result = ParameterValidator.formatValidationWarnings(warnings) + '\n\n' + result;
                    }
                    return {
                        success: true,
                        data: result
                    };
                }
                catch (apiError) {
                    return {
                        success: false,
                        error: `ä¸‹å•å¤±è´¥: ${apiError instanceof Error ? apiError.message : 'æœªçŸ¥é”™è¯¯'}\n\nðŸ’¡ å¸¸è§è§£å†³æ–¹æ¡ˆ:\nâ€¢ æ£€æŸ¥è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³\nâ€¢ éªŒè¯ä»·æ ¼å’Œæ•°é‡ç²¾åº¦æ˜¯å¦æ­£ç¡®\nâ€¢ ç¡®è®¤äº¤æ˜“å¯¹æ˜¯å¦å­˜åœ¨ä¸”å¯äº¤æ˜“\nâ€¢ æ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’ŒAPIæƒé™`
                    };
                }
            case 'binance_spot_cancel_order':
                const cancelledOrder = await spotAPI.cancelOrder(args.symbol, args.orderId);
                return {
                    success: true,
                    data: {
                        orderId: cancelledOrder.orderId,
                        clientOrderId: cancelledOrder.clientOrderId,
                        symbol: cancelledOrder.symbol,
                        status: cancelledOrder.status,
                        origQty: parseFloat(cancelledOrder.origQty),
                        executedQty: parseFloat(cancelledOrder.executedQty),
                        price: cancelledOrder.price ? parseFloat(cancelledOrder.price) : null
                    }
                };
            case 'binance_spot_open_orders':
                const openOrders = await spotAPI.getOpenOrders(args.symbol);
                return {
                    success: true,
                    data: openOrders.map(order => ({
                        orderId: order.orderId,
                        clientOrderId: order.clientOrderId,
                        symbol: order.symbol,
                        side: order.side,
                        type: order.type,
                        quantity: parseFloat(order.origQty),
                        price: order.price ? parseFloat(order.price) : null,
                        executedQty: parseFloat(order.executedQty),
                        status: order.status,
                        timeInForce: order.timeInForce,
                        workingTime: order.workingTime
                    }))
                };
            case 'binance_spot_order_history':
                const orderHistory = await spotAPI.getOrderHistory({
                    symbol: args.symbol,
                    orderId: args.orderId,
                    startTime: args.startTime,
                    endTime: args.endTime,
                    limit: args.limit
                });
                return {
                    success: true,
                    data: orderHistory.map(order => ({
                        orderId: order.orderId,
                        clientOrderId: order.clientOrderId,
                        symbol: order.symbol,
                        side: order.side,
                        type: order.type,
                        quantity: parseFloat(order.origQty),
                        price: order.price ? parseFloat(order.price) : null,
                        executedQty: parseFloat(order.executedQty),
                        cummulativeQuoteQty: parseFloat(order.cummulativeQuoteQty),
                        status: order.status,
                        timeInForce: order.timeInForce,
                        workingTime: order.workingTime
                    }))
                };
            case 'binance_spot_trade_history':
                const trades = await spotAPI.getTrades({
                    symbol: args.symbol,
                    startTime: args.startTime,
                    endTime: args.endTime,
                    fromId: args.fromId,
                    limit: args.limit
                });
                return {
                    success: true,
                    data: trades.map(trade => ({
                        id: trade.id,
                        orderId: trade.orderId,
                        symbol: trade.symbol,
                        price: parseFloat(trade.price),
                        qty: parseFloat(trade.qty),
                        quoteQty: parseFloat(trade.quoteQty),
                        commission: parseFloat(trade.commission),
                        commissionAsset: trade.commissionAsset,
                        time: trade.time,
                        isBuyer: trade.isBuyer,
                        isMaker: trade.isMaker
                    }))
                };
            case 'binance_spot_cancel_all_orders':
                const openOrdersToCancel = await spotAPI.getOpenOrders(args.symbol);
                const cancelResults = [];
                for (const order of openOrdersToCancel) {
                    try {
                        const cancelled = await spotAPI.cancelOrder(args.symbol, order.orderId);
                        cancelResults.push({
                            orderId: cancelled.orderId,
                            status: 'CANCELLED',
                            success: true
                        });
                    }
                    catch (error) {
                        cancelResults.push({
                            orderId: order.orderId,
                            status: 'FAILED',
                            success: false,
                            error: error instanceof Error ? error.message : 'å–æ¶ˆå¤±è´¥'
                        });
                    }
                }
                return {
                    success: true,
                    data: {
                        totalOrders: openOrdersToCancel.length,
                        cancelled: cancelResults.filter(r => r.success).length,
                        failed: cancelResults.filter(r => !r.success).length,
                        results: cancelResults
                    }
                };
            default:
                throw new Error(`æœªçŸ¥çš„çŽ°è´§äº¤æ˜“å·¥å…·: ${name}`);
        }
    }
    catch (error) {
        logger.error(`çŽ°è´§äº¤æ˜“å·¥å…·æ‰§è¡Œå¤±è´¥ ${name}:`, error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'æœªçŸ¥é”™è¯¯'
        };
    }
}
//# sourceMappingURL=spot.js.map